!function(t){t.fn.tableWizard=function(e,n,o){var r=t.extend(!0,{},t.fn.tableWizard.defaults,o),i=this,a=null!==r.stickyKit&&"object"==typeof r.stickyKit?!0:!1;r.navButtons._wrapper="."+r.navButtons.wrapper,r.navButtons._buttons="."+r.navButtons.buttons,r.navButtons._prev="."+r.navButtons.prev,r.navButtons._next="."+r.navButtons.next,r.table._outerWrapper="."+r.table.outerWrapper,r.table._overflowWrapper="."+r.table.overflowWrapper,a&&(r.stickyKit._wrapper="."+r.stickyKit.wrapper,r.stickyKit._innerWrapper="."+r.stickyKit.innerWrapper,r.stickyKit._elements="."+r.stickyKit.elements);var s,l,p,u,c,b,f=function(){r.navButtons.$wrapper=t(r.navButtons._wrapper),r.navButtons.$buttons=t(r.navButtons._buttons),r.navButtons.$prev=t(r.navButtons._prev),r.navButtons.$next=t(r.navButtons._next),r.table.$outerWrapper=t(r.table._outerWrapper),r.table.$overflowWrapper=t(r.table._overflowWrapper)},v=function(){r.stickyKit.$wrapper=t(r.stickyKit._wrapper),r.stickyKit.$innerWrapper=t(r.stickyKit._innerWrapper),r.stickyKit.$elements=t(r.stickyKit._elements)},d=[],w=function(){var e=0;return i.find(n).each(function(n,o){var r=t(o).siblings().addBack().length;r>e&&(e=r)}),e},k=function(){var e=new jQuery;return i.find(n).each(function(n,o){e=e.add(t(o).siblings().addBack().slice(r.table.scrollableColFirstIndex))}),e},y=function(){if(0!==d.length){var e=0;return t.each(d,function(t,n){return n>=c?(e=r.table.numOfScrollableCols[n],!1):void 0}),e}return r.table.numOfScrollableCols},h=function(t){return null==t&&(t=p),100/(t+(s-r.table.totalNumberOfScrollableCols))},B=function(){var e=i.closest(r.table._outerWrapper);0===e.length?i.wrap(t("<div/>",{"class":r.table.outerWrapper,style:"position: relative; overflow-y: visible;"})):e.css({position:"relative","overflow-y":"visible"})},m=function(){var e=i.parent().siblings(r.navButtons._wrapper);0===e.length&&i.before(t("<div/>",{"class":r.navButtons.wrapper}).append(t("<button/>",{"class":r.navButtons.buttons+" "+r.navButtons.prev,type:"button",html:r.navButtons.prevHTML})).append(t("<button/>",{"class":r.navButtons.buttons+" "+r.navButtons.next,type:"button",html:r.navButtons.nextHTML})))},$=function(){i.parent().hasClass(r.table.overflowWrapper)||i.wrap(t("<div/>",{"class":r.table.overflowWrapper,style:"position: relative; overflow: hidden;"}))},_=function(){var n=t("<div/>",{"class":r.stickyKit.wrapper,style:"position: absolute; overflow: hidden; top: 0; right: 0;"});n.append(t("<div/>",{"class":r.stickyKit.innerWrapper})),l.filter(e).each(function(){n.find(r.stickyKit._innerWrapper).append(t("<div/>",{"class":r.stickyKit.elements,style:"display: inline-block; position: relative; top: 0;",html:t(this).html()}))}),i.before(n)},K=function(){r.stickyKit.$wrapper.stick_in_parent({spacer:!1}),l=l.add(r.stickyKit.$elements),r.stickyKit.$elements.outerWidth(100/r.table.totalNumberOfScrollableCols+"%")};this.updateButtons=function(){r.navButtons.$buttons.prop("disabled",!1),1>u&&r.navButtons.$prev.prop("disabled",!0),u+1>=s-p&&r.navButtons.$next.prop("disabled",!0)},this.moveColumns=function(t,e){null==e&&(e=!1),t+p>r.table.totalNumberOfScrollableCols&&(u=r.table.totalNumberOfScrollableCols-p),e?TweenMax.set(l,{xPercent:100*-u}):TweenMax.to(l,r.animation.speed,{xPercent:100*-u})},this.refactorTable=function(t){null==t&&(t=p),0===t?(i.css("table-layout","").width(""),i.find(e).width(""),l.css("transform",""),r.navButtons.$wrapper.hide(),r.table.$overflowWrapper.css({position:"",overflow:""}),a&&r.stickyKit.$wrapper.hide()):(b=h(t),r.navButtons.$wrapper.width(t*b+"%"),i.css("table-layout","fixed").width(s*b+"%"),i.find(e).width(b+"%"),r.navButtons.$wrapper.show(),r.table.$overflowWrapper.css({position:"relative",overflow:"hidden"}),a&&(r.stickyKit.$wrapper.show().css({position:"absolute",top:"0",right:"0"}),r.stickyKit.$wrapper.width(t*b+"%"),r.stickyKit.$innerWrapper.width(100*r.table.totalNumberOfScrollableCols/t+"%")))};var W=function(){B(),m(),$(),f(),c=r.table.$outerWrapper.width(),s=w(),l=k(),null!==r.table.numOfScrollableCols&&"object"==typeof r.table.numOfScrollableCols&&(d=Object.keys(r.table.numOfScrollableCols).sort(function(t,e){return t-e})),p=y(),b=h(),u=0,a&&(_(),v(),K()),i.refactorTable(),p>0&&(i.moveColumns(u,!0),i.updateButtons(),a&&x()),r.navButtons.$wrapper.on("click.tableWizardNavButtons",r.navButtons._buttons,C),t(window).on("resize.tableWizardWindowResize",g)},C=function(e){if(t(e.target).is(r.navButtons.$prev))u--;else{if(!t(e.target).is(r.navButtons.$next))return;u++}i.moveColumns(u),i.updateButtons()},g=function(){c=r.table.$outerWrapper.width(),p!==(p=y())&&(i.refactorTable(),p>0&&(i.moveColumns(u,!0),i.updateButtons())),p>0&&a&&x()},x=function(){var e=p*b+"%",n=r.navButtons.$wrapper.width(),o=Math.round(t(window).width()-(r.navButtons.$wrapper.offset().left+n))+"px";r.stickyKit.$wrapper.off("sticky_kit:stick").on("sticky_kit:stick",function(t){r.stickyKit.$wrapper.css({right:o,width:n})}).off("sticky_kit:unstick").on("sticky_kit:unstick",function(t){r.stickyKit.$wrapper.css({position:"absolute",right:"0",width:e})}).off("sticky_kit:bottom").on("sticky_kit:bottom",function(t){r.stickyKit.$wrapper.css({position:"absolute",right:"0",width:e})}).off("sticky_kit:unbottom").on("sticky_kit:unbottom",function(t){r.stickyKit.$wrapper.css({right:o,width:n})}),t(document.body).trigger("sticky_kit:recalc")};return W(),this},t.fn.tableWizard.defaults={table:{scrollableColFirstIndex:0,totalNumberOfScrollableCols:0,numOfScrollableCols:0},moreInfoPopup:!1,stickyKit:!1}}(jQuery);
